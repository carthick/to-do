{% extends 'base.html' %}
{% block title %}
    <title>
        To dolist Manager- taskmate
    </title>
{% endblock title %}

{% block content %}
  <div class="container">

  {% for message in messages %}
    <div class="alert alert-info" role="alert">
        {{ message }}
    </div>
  {% endfor %}
  </br>
    <form enctype="multipart/form-data" method="POST">
    {% csrf_token %}
      <div class="form-group">
        <input type="text" name="task" class="form-control" id="exampleInputEmail1" placeholder="Add task" aria-describedby="emailHelp">
      </div>
      <button type="submit" class="btn btn-primary">Add Task</button>
    </form>
  </br>
  <table class="table table-bordered">
  </br>
    <thead>
      <tr class="table-primary">
        <th scope="col">No</th>
        <th scope="col">Task</th>
        <th scope="col">Done</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      {% for task in all_tasks %}
        {% if task.done %}
          <tr class="table-success">
            <td>{{task.id}}</td>
            <td>{{task.task}}</td>
            <td>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" checked="{{task.task}}" value="{{task.done}}" id="defaultCheck1">
                <label class="form-check-label" for="defaultCheck1">
                  Completed
                </label>
              </div>
            </td>
            <td><a class="nav-link nav-item" href="{% url 'edit_task' task.id %}">EDIT</a></td>
            <td><a class="nav-link nav-item" href="{% url 'delete_task' task.id %}">Delete</a></td>
          </tr>
        {% else %}
          <tr class="table-secondary">
            <td>{{task.id}}</td>
            <td>{{task.task}}</td>
            <td>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                <label class="form-check-label" for="defaultCheck1">
                  In progress
                </label>
              </div>
            </td>
            <td><a class="nav-link nav-item" href="{% url 'edit_task' task.id %}">EDIT</a></td>
            <td><a class="nav-link nav-item" href="{% url 'delete_task' task.id %}">Delete</a></td>
          </tr>
        {% endif %}
      {% endfor  %}
    </tbody>
  </table>
  </div>
{% endblock content %}